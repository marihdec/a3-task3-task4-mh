---
title: "Assignment 3 Task 3 - Mari Herbst de Cortina"
author: "Mari Herbst"
date: "10/24/2021"
output: html_document
---

```{r setup, include=TRUE, message = FALSE, warning = FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)

library(here)
library(tidyverse)
library(dplyr)
library(janitor)
library(kableExtra)
```

### Read in the data using here() to create a system agnostic file path
```{r}
urchins <- read_csv(here("data", "urchins.csv"))
```

## Section 1: size comparisons for purple and red urchins

- First, I want to make the data more coder friendly

```{r}
clean_urchins <- clean_names(urchins)
```


### Data visualization - histogram

- Select dataframe and the variable to be counted
- Choose the type of graph, in this case, we are making a histogram. Also, select the variable by which to color code
- Use labs() to name axes, title, and legend title
- Use facet_wrap() to divide the graph into 2 histograms, one for each common name of urchins

```{r}
ggplot(data = clean_urchins, aes(x = size)) +
  geom_histogram(bins = 10, aes(fill = common_name)) +
  labs(x = "urchin size (cm)",
       title = "Distribution of Purple vs. Red Urchin Size",
       legend = "Urchin species",
       fill = "Urchin type") +
  facet_wrap(vars(common_name))
```



##### Figure 1: Distribution of Purple vs. Red Urchin Size: Red and purple urchins were measured for diameter (shell without spines) to the closest half centimeter across 5 sites on California's coast between 2008 and 2011

### Descriptive statistics table - summary table

- Create a summary table grouped by urchin type that includes the mean and median size, the standard deviation in size, and the sample size for each urchin type.
- Be sure to use kable() to name columns appropriately and with units!

```{r}
urchins_summary <- clean_urchins %>%
  group_by(common_name) %>%
  summarize(mean_size_cm = mean(size, na.rm = TRUE),
            median_size_cm = median(size),
            sd_size = sd(size),
            sample_size = n())

options(digits = 3)

urchins_summary %>%
  kable(col.names = c("Species",
                      "Mean size (cm)",
                      "Median size (cm)",
                      "Standard deviation",
                      "Sample Size"),
        caption = "Table 1: A summary of urchin sizes showing the mean and median size, standard deviation in size, and sample size of each type of urchin that was studied.")
```

##### In general, red urchins are larger than purple urchins in this study area; the average purple urchin is 2.31cm smaller than the average red one. Red urchins are, on average, 1.52 times as large as purple urchins. There is a greater degree of spread amongst red urchins, indicated by the higher standard deviation figure.
